webpackJsonp([1],{NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("7+uW"),s=a("zL8q"),r=a.n(s),o=(a("tvR6"),{render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]});var n=a("VU/8")({name:"App"},o,!1,function(t){a("o8nZ")},null,null).exports,i=a("mtWM"),c=a.n(i),u=a("Rf8U"),p=a.n(u),h=a("/ocq"),d={name:"HomePage",components:{},data:function(){return{activeName:"first",url:"",shortCode:"",message:this.$route.params.message,resultUrl:"",tableData:"",total:""}},methods:{handleClick:function(t){var e=this;this.url="",this.shortCode="",this.resultUrl="",console.log(t.name),"数据统计"===t.label&&this.axios.get("http://localhost/apis/list").then(function(t){e.tableData=t.data.rows,e.total=t.data.total})},getShortUrl:function(){var t=this;this.axios.get("http://localhost/apis/getShortUrl?longUrl="+this.url).then(function(e){"200"==e.data.status?t.resultUrl=e.data.data:t.$message.error(e.data.msg)})},getLongUrl:function(){var t=this;this.axios.get("http://localhost/apis/getLongUrl?shortUrl="+this.url).then(function(e){"200"==e.data.status?(t.message=e.data.msg,t.resultUrl=e.data.data):t.$message.error(e.data.msg)})},bindShortCode:function(){var t=this;""!==this.shortCode&&""!==this.url?6===this.shortCode.length?this.axios.get("http://localhost/apis/saveShortUrl?longUrl="+this.url+"&shortCode="+this.shortCode).then(function(e){"200"==e.data.status?(t.$message.success(e.data.msg),t.resultUrl="http://127.0.0.1/r/"+t.shortCode):t.$message.error(e.data.msg)}):this.$message.error("短链长度要求为6位,请您检查后再输入!"):this.$message.error("请检查您的输入是否正确!")},handleCurrentChange:function(t){var e=this;this.axios.get("http://localhost/apis/list?pageNum="+t+"&pageSize=10").then(function(t){e.tableData=t.data.rows,e.total=t.data.total})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"logo-text"},[t._v("\n          短链接服务Demo\n        ")]),t._v(" "),a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"缩短网址",name:"first"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"请输入长地址"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.getShortUrl}},[t._v("缩短网址")])],1)],1),t._v(" "),a("el-row",[""!=t.resultUrl?a("div",{staticClass:"alert-info"},[a("el-alert",{attrs:{title:"生成短链如下:"+this.resultUrl,type:"success"}})],1):t._e()])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"还原网址",name:"second"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"请输入短地址"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.getLongUrl}},[t._v("还原网址")])],1)],1),t._v(" "),a("el-row",[""!=t.resultUrl?a("div",{staticClass:"alert-info"},[a("el-alert",{attrs:{title:this.resultUrl,type:"success"}})],1):t._e()])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"自定义短码",name:"third"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("el-input",{attrs:{placeholder:"请输入长地址"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.bindShortCode}},[t._v("绑定短码")])],1),t._v(" "),a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"请输入短码"},model:{value:t.shortCode,callback:function(e){t.shortCode=e},expression:"shortCode"}})],1)],1),t._v(" "),a("el-row",[""!=t.resultUrl?a("div",{staticClass:"alert-info"},[a("el-alert",{attrs:{title:this.resultUrl,type:"success"}})],1):t._e()])],1),t._v(" "),a("el-tab-pane",{attrs:{label:"数据统计",name:"fourth"}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"longUrl",label:"长链接",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"shortUrl",label:"短链接",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"visitSize",label:"访问量",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}})],1)],1),t._v(" "),a("el-row",[a("el-pagination",{staticClass:"pagination",attrs:{background:"","page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var m=a("VU/8")(d,v,!1,function(t){a("vHG9")},"data-v-c9091f0a",null).exports;l.default.use(h.a);var f=new h.a({routes:[{path:"/",name:"HomePage",component:m}]});l.default.use(r.a),l.default.prototype.axios=c.a,l.default.use(p.a,c.a),l.default.config.productionTip=!1,new l.default({el:"#app",router:f,components:{App:n},template:"<App/>"})},o8nZ:function(t,e){},tvR6:function(t,e){},vHG9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c75d8e4570d423238aa1.js.map